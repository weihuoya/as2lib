<?xml version="1.0"?>

<beans>
	
	<bean class="org.actionstep.NSApplication" factory-method="sharedApplication" init-method="run" depends-on="view"/>
	
	<bean id="view" width="445" height="360" resizable="false"
			class="org.as2lib.sample.pizza.view.actionstep.ActionStepView" init-method="show">
		<controller>b{controller}</controller>
		<progressBar>b{progressBar}</progressBar>
		<statusLabel>b{statusLabel}</statusLabel>
		<Panel constraints="v{org.aswing.WindowLayout.TITLE}" background="v{org.aswing.ASColor.BLACK}" opaque="true">
			<Button text="{messageSource.message[button.orderForm]}" actionListener="d{view.showOrderForm}"/>
			<Button text="{messageSource.message[button.viewOrders]}" actionListener="d{view.showViewOrdersForm}"/>
			<Label id="statusLabel" foreground="v{org.aswing.ASColor.WHITE}"/>
			<ProgressBar id="progressBar" value="110" visible="false"/>
		</Panel>
		<orderForm>
			<Form id="orderForm" controller="b{controller}" constraints="v{org.aswing.WindowLayout.CONTENT}"
					class="org.as2lib.sample.pizza.view.aswing.AsWingOrderForm">
				<nameTextField>b{nameTextField}</nameTextField>
				<quantityTextField>b{quantityTextField}</quantityTextField>
				<sizeComboBox>b{sizeComboBox}</sizeComboBox>
				<crustComboBox>b{crustComboBox}</crustComboBox>
				<toppingList>b{toppingList}</toppingList>
				<orderTicketList>b{orderTicketList}</orderTicketList>
				<addButton>b{addButton}</addButton>
				<removeButton>b{removeButton}</removeButton>
				<placeOrderButton>b{placeOrderButton}</placeOrderButton>
				<progressBar>b{progressBar}</progressBar>
				<SoftBox>
					<layout><SoftBoxLayout axis="v{org.aswing.SoftBoxLayout.Y_AXIS}" gap="10"/></layout>
					<border><Border/></border>
					<SoftBox>
						<layout><SoftBoxLayout axis="v{org.aswing.SoftBoxLayout.X_AXIS}" gap="20"/></layout>
						<FormItem>
							<Label text="{messageSource.message[label.name]}"/>
							<TextField id="nameTextField">
								<property name="eventListener[onTextChanged]">d{orderForm.onNameChanged}</property>
							</TextField>
						</FormItem>
						<SoftBox>
							<layout><SoftBoxLayout axis="v{org.aswing.SoftBoxLayout.Y_AXIS}" gap="10"/></layout>
							<FormItem>
								<Label text="{messageSource.message[label.quantity]}"/>
								<TextField id="quantityTextField" text="1" restrict="1234567890"/>
							</FormItem>
							<FormItem>
								<Label text="{messageSource.message[label.size]}"/>
								<ComboBox id="sizeComboBox" selectedIndex="0">
									<listData>
										<array>
											<value>{messageSource.message[size.small]}</value>
											<value>{messageSource.message[size.medium]}</value>
											<value>{messageSource.message[size.large]}</value>
											<value>{messageSource.message[size.family]}</value>
										</array>
									</listData>
								</ComboBox>
							</FormItem>
							<FormItem>
								<Label text="{messageSource.message[label.crust]}"/>
								<ComboBox id="crustComboBox" selectedIndex="0">
									<listData>
										<array>
											<value>{messageSource.message[crust.thin]}</value>
											<value>{messageSource.message[crust.deepDish]}</value>
											<value>{messageSource.message[crust.stuffed]}</value>
										</array>
									</listData>
								</ComboBox>
							</FormItem>
						</SoftBox>
						<SoftBox>
							<layout><SoftBoxLayout axis="v{org.aswing.SoftBoxLayout.Y_AXIS}" gap="10"/></layout>
							<FormItem>
								<Label text="{messageSource.message[label.toppings]}"/>
								<ScrollPane preferredWidth="140" preferredHeight="120">
									<view>
										<List id="toppingList" selectionListener="d{orderForm.onToppingsChanged}">
											<listData>
												<array>
													<value>{messageSource.message[toppings.sausage]}</value>
													<value>{messageSource.message[toppings.pepperoni]}</value>
													<value>{messageSource.message[toppings.onions]}</value>
													<value>{messageSource.message[toppings.mushrooms]}</value>
													<value>{messageSource.message[toppings.tomatoes]}</value>
													<value>{messageSource.message[toppings.peppers]}</value>
													<value>{messageSource.message[toppings.olives]}</value>
													<value>{messageSource.message[toppings.garlic]}</value>
												</array>
											</listData>
										</List>
									</view>
								</ScrollPane>
							</FormItem>
							<Button id="addButton" text="{messageSource.message[button.add]}" actionListener="d{orderForm.addOrderItem}" enabled="false"/>
						</SoftBox>
					</SoftBox>
					<FormItem>
						<Label text="{messageSource.message[label.orderTicket]}"/>
						<ScrollPane preferredHeight="70">
							<view><List id="orderTicketList" opaque="true"/></view>
						</ScrollPane>
					</FormItem>
				</SoftBox>
				<Panel background="v{org.aswing.ASColor.BLACK}" opaque="true">
					<Button id="removeButton" text="{messageSource.message[button.remove]}" actionListener="d{orderForm.removeOrderItem}" enabled="false"/>
					<Button id="placeOrderButton" text="{messageSource.message[button.placeOrder]}" actionListener="d{orderForm.placeOrder}" enabled="false"/>
				</Panel>
			</Form>
		</orderForm>
		<viewOrdersForm>
			<Form id="viewOrdersForm" controller="b{controller}" constraints="v{org.aswing.WindowLayout.CONTENT}"
					class="org.as2lib.sample.pizza.view.aswing.AsWingViewOrdersForm">
				<orderList>b{orderList}</orderList>
				<pizzaList>b{pizzaList}</pizzaList>
				<cancelOrderButton>b{cancelOrderButton}</cancelOrderButton>
				<progressBar>b{progressBar}</progressBar>
				<SoftBox>
					<layout><SoftBoxLayout axis="SoftBoxLayout.X_AXIS" gap="10"/></layout>
					<border><Border/></border>
					<FormItem>
						<Label text="{messageSource.message[label.orders]}"/>
						<ScrollPane preferredWidth="120" preferredHeight="248">
							<view><List id="orderList" selectionListener="d{viewOrdersForm.updatePizzas}" opaque="true"/></view>
						</ScrollPane>
					</FormItem>
					<FormItem>
						<Label text="{messageSource.message[label.pizzas]}"/>
						<ScrollPane preferredWidth="290" preferredHeight="248">
							<view><List id="pizzaList" opaque="true"/></view>
						</ScrollPane>
					</FormItem>
				</SoftBox>
				<Panel background="v{org.aswing.ASColor.BLACK}" opaque="true">
					<Button id="cancelOrderButton" text="{messageSource.message[button.cancelOrder]}" actionListener="d{viewOrdersForm.cancelOrder}" enabled="false"/>
				</Panel>
			</Form>
		</viewOrdersForm>
	</bean>
	
</beans>